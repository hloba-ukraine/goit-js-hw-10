{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.png","../src/js/1-timer.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFlSURBVHgBrZQ9UsMwEIXXQoZhcgCocU6RNKlygPTOKUhPDz00UOBbpMenwFzBAzMUJMGOVhllFHlXUuK8xh57/T6t9yepJ5MWCKX5HC7zHGK0Kt5hXRTkO+kz35QlNNUn+CSyTMXO9T0Fkaz5cgl/T48QpfsFC5G9zZVMLAWRfc1DEHkOcx9E+syxgE1VeU3dGBciTLdQ5tfPLyo7vlXxcBiDsW4mm/JDQwQ+oFoRT4UpYhAFMZmv1QxQWZpn5BwY4QDZ6ZrC2eYrZsCMvAAKApBEm0cBKEisOUpApFrmPqSoDOx/vvtF/O45GsAVNBYiTzHnuosFiLus82K3hvlusSH/eq1XzvdDfU1+X9/a9IyrAnWl1recTvXhLhY/3w+JKlw6m4G4udWnMWrrGkJyY2xzzFza6ZqVcOpGdc1R+yL3hVDmB4A+EM68A+hABgNovkJFHoIcjdhuI+fgADIeQ0i+3bQFnGgNCyU078wAAAAASUVORK5CYII=\"","import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconClose from '../img/bi_x-octagon.png';\n\nconst refs = {\n  inputEl: document.querySelector('#datetime-picker'),\n  btnStart: document.querySelector('.start-btn'),\n  btnStop: document.querySelector('.stop-btn'),\n  dataDay: document.querySelector('span[data-days]'),\n  dataHours: document.querySelector('span[data-hours]'),\n  dataMinutes: document.querySelector('span[data-minutes]'),\n  dataSeconds: document.querySelector('span[data-seconds]'),\n};\nlet userSelectedDate;\nlet difference;\nlet timerInterval;\nrefs.btnStart.disabled = true;\nrefs.btnStop.disabled = true;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    difference = userSelectedDate.getTime() - Date.now();\n    if (userSelectedDate < Date.now()) {\n      iziToast.show({\n        message: 'Please choose a date in the future',\n        messageColor: '#FFF',\n        backgroundColor: '#FF0000',\n        position: 'topRight',\n        iconUrl: iconClose,\n      });\n    } else {\n      refs.btnStart.disabled = false;\n    }\n  },\n};\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\nfunction onTimer(difference) {\n  const timer = convertMs(difference);\n  refs.dataDay.textContent = `${addLeadingZero(timer.days)}`;\n  refs.dataHours.textContent = `${addLeadingZero(timer.hours)}`;\n  refs.dataMinutes.textContent = `${addLeadingZero(timer.minutes)}`;\n  refs.dataSeconds.textContent = `${addLeadingZero(timer.seconds)}`;\n}\nfunction onStart() {\n  timerInterval = setInterval(() => {\n    if (difference <= 0) {\n      clearInterval(timerInterval);\n      difference = 0;\n    } else {\n      onTimer(difference);\n      difference -= 1000;\n    }\n  }, 1000);\n  refs.btnStart.disabled = true;\n  refs.inputEl.disabled = true;\n  refs.btnStop.disabled = false;\n}\nfunction onStop() {\n  refs.inputEl.disabled = false;\n  clearInterval(timerInterval);\n  difference = 0;\n  onTimer(difference);\n  refs.btnStop.disabled = true;\n}\nflatpickr('#datetime-picker', options);\nrefs.btnStart.addEventListener('click', onStart);\nrefs.btnStop.addEventListener('click', onStop);\n"],"names":["iconClose","refs","userSelectedDate","difference","timerInterval","options","selectedDates","iziToast","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","onTimer","timer","onStart","onStop","flatpickr"],"mappings":"+IAAA,MAAeA,EAAA,qoBCMTC,EAAO,CACX,QAAS,SAAS,cAAc,kBAAkB,EAClD,SAAU,SAAS,cAAc,YAAY,EAC7C,QAAS,SAAS,cAAc,WAAW,EAC3C,QAAS,SAAS,cAAc,iBAAiB,EACjD,UAAW,SAAS,cAAc,kBAAkB,EACpD,YAAa,SAAS,cAAc,oBAAoB,EACxD,YAAa,SAAS,cAAc,oBAAoB,CAC1D,EACA,IAAIC,EACAC,EACAC,EACJH,EAAK,SAAS,SAAW,GACzBA,EAAK,QAAQ,SAAW,GACxB,MAAMI,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBJ,EAAmBI,EAAc,CAAC,EAClCH,EAAaD,EAAiB,QAAS,EAAG,KAAK,IAAG,EAC9CA,EAAmB,KAAK,MAC1BK,EAAS,KAAK,CACZ,QAAS,qCACT,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAASP,CACjB,CAAO,EAEDC,EAAK,SAAS,SAAW,EAE5B,CACH,EAEA,SAASO,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACA,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CACA,SAASC,EAAQb,EAAY,CAC3B,MAAMc,EAAQT,EAAUL,CAAU,EAClCF,EAAK,QAAQ,YAAc,GAAGa,EAAeG,EAAM,IAAI,CAAC,GACxDhB,EAAK,UAAU,YAAc,GAAGa,EAAeG,EAAM,KAAK,CAAC,GAC3DhB,EAAK,YAAY,YAAc,GAAGa,EAAeG,EAAM,OAAO,CAAC,GAC/DhB,EAAK,YAAY,YAAc,GAAGa,EAAeG,EAAM,OAAO,CAAC,EACjE,CACA,SAASC,GAAU,CACjBd,EAAgB,YAAY,IAAM,CAC5BD,GAAc,GAChB,cAAcC,CAAa,EAC3BD,EAAa,IAEba,EAAQb,CAAU,EAClBA,GAAc,IAEjB,EAAE,GAAI,EACPF,EAAK,SAAS,SAAW,GACzBA,EAAK,QAAQ,SAAW,GACxBA,EAAK,QAAQ,SAAW,EAC1B,CACA,SAASkB,GAAS,CAChBlB,EAAK,QAAQ,SAAW,GACxB,cAAcG,CAAa,EAC3BD,EAAa,EACba,EAAQb,CAAU,EAClBF,EAAK,QAAQ,SAAW,EAC1B,CACAmB,EAAU,mBAAoBf,CAAO,EACrCJ,EAAK,SAAS,iBAAiB,QAASiB,CAAO,EAC/CjB,EAAK,QAAQ,iBAAiB,QAASkB,CAAM"}